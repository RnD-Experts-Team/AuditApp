import{c as j,j as e,L as u,H as b,a as h}from"./app-0-cEbQZf.js";import{A as N}from"./app-layout-B-Zvyamh.js";import"./app-oXLXr3Y0.js";import"./button-ozQ66l2n.js";import"./index-CNGqGlaO.js";import"./index-C2h5YoHJ.js";import"./index-AaGKiXUI.js";function E(r){const t=j.c(13),{auth:x,users:s,flash:d}=r,p=_,f=v,g=y;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(b,{title:"Users"}),t[0]=o):o=t[0];let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Users Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage system users and their roles"})]}),e.jsx(u,{href:"/users/create",className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90 transition-colors",children:"+ Create User"})]}),t[1]=m):m=t[1];let a;t[2]!==d?(a=d?.success&&e.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:d.success}),t[2]=d,t[3]=a):a=t[3];let i;t[4]!==s.data||t[5]!==s.links?(i=e.jsx("div",{className:"rounded-lg border bg-card",children:s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",children:"ID"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",children:"Name"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",children:"Email"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",children:"Role"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",children:"Joined"}),e.jsx("th",{className:"h-12 px-4 text-center align-middle font-medium text-muted-foreground whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:s.data.map(n=>e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[e.jsx("td",{className:"p-4 align-middle font-medium whitespace-nowrap",children:n.id}),e.jsx("td",{className:"p-4 align-middle whitespace-nowrap",children:n.name}),e.jsx("td",{className:"p-4 align-middle text-muted-foreground whitespace-nowrap",children:n.email}),e.jsx("td",{className:"p-4 align-middle whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center justify-center px-3 py-1 text-xs font-medium rounded-md ${g(n.role)}`,children:n.role})}),e.jsx("td",{className:"p-4 align-middle text-muted-foreground whitespace-nowrap",children:f(n.created_at)}),e.jsx("td",{className:"p-4 align-middle whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{href:`/users/${n.id}/edit`,className:"text-sm font-medium text-primary hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>p(n.id),className:"text-sm font-medium text-destructive hover:underline",children:"Delete"})]})})]},n.id))})]})}),s.links&&s.links.length>3&&e.jsx("div",{className:"flex items-center justify-center gap-2 p-4 border-t",children:s.links.map(w)})]}):e.jsx("div",{className:"h-24 text-center text-muted-foreground flex items-center justify-center",children:"No users found."})}),t[4]=s.data,t[5]=s.links,t[6]=i):i=t[6];let l;t[7]!==a||t[8]!==i?(l=e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[m,a,i]}),t[7]=a,t[8]=i,t[9]=l):l=t[9];let c;return t[10]!==x.user||t[11]!==l?(c=e.jsxs(N,{user:x.user,children:[o,l]}),t[10]=x.user,t[11]=l,t[12]=c):c=t[12],c}function w(r,t){return e.jsx("button",{onClick:()=>r.url&&h.visit(r.url),disabled:!r.url,className:`inline-flex items-center justify-center rounded-md px-3 py-1 text-sm font-medium transition-colors ${r.active?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"} ${r.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:r.label}},t)}function y(r){return r==="Admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}function v(r){return new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function _(r){confirm("Are you sure you want to delete this user?")&&h.delete(`/users/${r}`,{preserveScroll:!0})}export{E as default};
