import{r as m,j as t,c as F,H as G,F as K}from"./app-BQRJ0j_D.js";import{I as R}from"./input-error-B3DREMMK.js";import{T as U}from"./text-link-fYfifJtt.js";import{u as L,a as X,B as J}from"./button-CiWo4oFx.js";import{u as Q,c as V,a as P,b as W,P as Y}from"./index-eVsFUjm_.js";import{P as I}from"./index-Bn9IGVAo.js";import{C as Z}from"./check-CU0BAegU.js";import{I as S}from"./input-CZ9tiugM.js";import{L as w}from"./label-B9Qt3hZ4.js";import{S as ee}from"./spinner-C3RBd3uo.js";import{A as te}from"./auth-layout-CXTLNcVT.js";import{l as re}from"./index-AaGKiXUI.js";import{r as se}from"./index-BQCWoNDW.js";import"./app-CGKmwihm.js";import"./loader-circle-DCd8zY5a.js";import"./index-DaTiad8d.js";function oe(s){const e=m.useRef({value:s,previous:s});return m.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var j="Checkbox",[ne,Ie]=V(j),[ae,E]=ne(j);function ce(s){const{__scopeCheckbox:e,checked:n,children:a,defaultChecked:o,disabled:r,form:c,name:d,onCheckedChange:i,required:p,value:x="on",internal_do_not_use_render:l}=s,[f,v]=Q({prop:n,defaultProp:o??!1,onChange:i,caller:j}),[k,C]=m.useState(null),[g,u]=m.useState(null),h=m.useRef(!1),y=k?!!c||!!k.closest("form"):!0,_={checked:f,disabled:r,setChecked:v,control:k,setControl:C,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:h,required:p,defaultChecked:b(o)?!1:o,isFormControl:y,bubbleInput:g,setBubbleInput:u};return t.jsx(ae,{scope:e,..._,children:ie(l)?l(_):a})}var B="CheckboxTrigger",q=m.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:n,...a},o)=>{const{control:r,value:c,disabled:d,checked:i,required:p,setControl:x,setChecked:l,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:k}=E(B,s),C=L(o,x),g=m.useRef(i);return m.useEffect(()=>{const u=r?.form;if(u){const h=()=>l(g.current);return u.addEventListener("reset",h),()=>u.removeEventListener("reset",h)}},[r,l]),t.jsx(I.button,{type:"button",role:"checkbox","aria-checked":b(i)?"mixed":i,"aria-required":p,"data-state":z(i),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:C,onKeyDown:P(e,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:P(n,u=>{l(h=>b(h)?!0:!h),k&&v&&(f.current=u.isPropagationStopped(),f.current||u.stopPropagation())})})});q.displayName=B;var T=m.forwardRef((s,e)=>{const{__scopeCheckbox:n,name:a,checked:o,defaultChecked:r,required:c,disabled:d,value:i,onCheckedChange:p,form:x,...l}=s;return t.jsx(ce,{__scopeCheckbox:n,checked:o,defaultChecked:r,disabled:d,required:c,onCheckedChange:p,name:a,form:x,value:i,internal_do_not_use_render:({isFormControl:f})=>t.jsxs(t.Fragment,{children:[t.jsx(q,{...l,ref:e,__scopeCheckbox:n}),f&&t.jsx(O,{__scopeCheckbox:n})]})})});T.displayName=j;var A="CheckboxIndicator",M=m.forwardRef((s,e)=>{const{__scopeCheckbox:n,forceMount:a,...o}=s,r=E(A,n);return t.jsx(Y,{present:a||b(r.checked)||r.checked===!0,children:t.jsx(I.span,{"data-state":z(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...s.style}})})});M.displayName=A;var H="CheckboxBubbleInput",O=m.forwardRef(({__scopeCheckbox:s,...e},n)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:r,defaultChecked:c,required:d,disabled:i,name:p,value:x,form:l,bubbleInput:f,setBubbleInput:v}=E(H,s),k=L(n,v),C=oe(r),g=W(a);m.useEffect(()=>{const h=f;if(!h)return;const y=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(y,"checked").set,D=!o.current;if(C!==r&&N){const $=new Event("click",{bubbles:D});h.indeterminate=b(r),N.call(h,b(r)?!1:r),h.dispatchEvent($)}},[f,C,r,o]);const u=m.useRef(b(r)?!1:r);return t.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??u.current,required:d,disabled:i,name:p,value:x,form:l,...e,tabIndex:-1,ref:k,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});O.displayName=H;function ie(s){return typeof s=="function"}function b(s){return s==="indeterminate"}function z(s){return b(s)?"indeterminate":s?"checked":"unchecked"}function de(s){const e=F.c(9);let n,a;e[0]!==s?({className:n,...a}=s,e[0]=s,e[1]=n,e[2]=a):(n=e[1],a=e[2]);let o;e[3]!==n?(o=X("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=o):o=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(M,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(Z,{className:"size-3.5"})}),e[5]=r):r=e[5];let c;return e[6]!==a||e[7]!==o?(c=t.jsx(T,{"data-slot":"checkbox",className:o,...a,children:r}),e[6]=a,e[7]=o,e[8]=c):c=e[8],c}function Ee(s){const e=F.c(10),{status:n,canResetPassword:a}=s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(G,{title:"Log in"}),e[0]=o):o=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=re.url(),e[1]=r):r=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=["password"],e[2]=c):c=e[2];let d;e[3]!==a?(d=t.jsx(K,{action:r,method:"post",resetOnSuccess:c,className:"flex flex-col gap-6",children:x=>{const{processing:l,errors:f}=x;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid gap-6",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(w,{htmlFor:"email",children:"Email address"}),t.jsx(S,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"email@example.com"}),t.jsx(R,{message:f.email})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(w,{htmlFor:"password",children:"Password"}),a&&t.jsx(U,{href:se(),className:"ml-auto text-sm",tabIndex:5,children:"Forgot password?"})]}),t.jsx(S,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Password"}),t.jsx(R,{message:f.password})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(de,{id:"remember",name:"remember",tabIndex:3}),t.jsx(w,{htmlFor:"remember",children:"Remember me"})]}),t.jsxs(J,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:l,"data-test":"login-button",children:[l&&t.jsx(ee,{}),"Log in"]})]})})}}),e[3]=a,e[4]=d):d=e[4];let i;e[5]!==n?(i=n&&t.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:n}),e[5]=n,e[6]=i):i=e[6];let p;return e[7]!==d||e[8]!==i?(p=t.jsxs(te,{title:"Log in to your account",description:"Enter your email and password below to log in",children:[o,d,i]}),e[7]=d,e[8]=i,e[9]=p):p=e[9],p}export{Ee as default};
