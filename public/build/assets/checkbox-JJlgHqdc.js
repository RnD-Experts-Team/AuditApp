import{r as d,j as i,c as F}from"./app-BPiuJiXE.js";import{c as O,u as N,a as H}from"./button-Ro51u8WX.js";import{u as G,c as K,a as j,b as U,P as X}from"./index-DYiqaCsJ.js";import{P as R}from"./index-Cv2by6ib.js";const $=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J=O("Check",$);function Q(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var y="Checkbox",[V,ne]=K(y),[W,P]=V(y);function Y(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:o,disabled:r,form:c,name:h,onCheckedChange:l,required:m,value:k="on",internal_do_not_use_render:p}=t,[f,v]=G({prop:n,defaultProp:o??!1,onChange:l,caller:y}),[x,C]=d.useState(null),[g,a]=d.useState(null),u=d.useRef(!1),_=x?!!c||!!x.closest("form"):!0,E={checked:f,disabled:r,setChecked:v,control:x,setControl:C,name:h,form:c,value:k,hasConsumerStoppedPropagationRef:u,required:m,defaultChecked:b(o)?!1:o,isFormControl:_,bubbleInput:g,setBubbleInput:a};return i.jsx(W,{scope:e,...E,children:Z(p)?p(E):s})}var S="CheckboxTrigger",w=d.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},o)=>{const{control:r,value:c,disabled:h,checked:l,required:m,setControl:k,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:x}=P(S,t),C=N(o,k),g=d.useRef(l);return d.useEffect(()=>{const a=r?.form;if(a){const u=()=>p(g.current);return a.addEventListener("reset",u),()=>a.removeEventListener("reset",u)}},[r,p]),i.jsx(R.button,{type:"button",role:"checkbox","aria-checked":b(l)?"mixed":l,"aria-required":m,"data-state":L(l),"data-disabled":h?"":void 0,disabled:h,value:c,...s,ref:C,onKeyDown:j(e,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:j(n,a=>{p(u=>b(u)?!0:!u),x&&v&&(f.current=a.isPropagationStopped(),f.current||a.stopPropagation())})})});w.displayName=S;var B=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:r,required:c,disabled:h,value:l,onCheckedChange:m,form:k,...p}=t;return i.jsx(Y,{__scopeCheckbox:n,checked:o,defaultChecked:r,disabled:h,required:c,onCheckedChange:m,name:s,form:k,value:l,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(w,{...p,ref:e,__scopeCheckbox:n}),f&&i.jsx(A,{__scopeCheckbox:n})]})})});B.displayName=y;var M="CheckboxIndicator",T=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...o}=t,r=P(M,n);return i.jsx(X,{present:s||b(r.checked)||r.checked===!0,children:i.jsx(R.span,{"data-state":L(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});T.displayName=M;var q="CheckboxBubbleInput",A=d.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:r,defaultChecked:c,required:h,disabled:l,name:m,value:k,form:p,bubbleInput:f,setBubbleInput:v}=P(q,t),x=N(n,v),C=Q(r),g=U(s);d.useEffect(()=>{const u=f;if(!u)return;const _=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(_,"checked").set,z=!o.current;if(C!==r&&I){const D=new Event("click",{bubbles:z});u.indeterminate=b(r),I.call(u,b(r)?!1:r),u.dispatchEvent(D)}},[f,C,r,o]);const a=d.useRef(b(r)?!1:r);return i.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??a.current,required:h,disabled:l,name:m,value:k,form:p,...e,tabIndex:-1,ref:x,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A.displayName=q;function Z(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function L(t){return b(t)?"indeterminate":t?"checked":"unchecked"}function se(t){const e=F.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let o;e[3]!==n?(o=H("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=o):o=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=i.jsx(T,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(J,{className:"size-3.5"})}),e[5]=r):r=e[5];let c;return e[6]!==s||e[7]!==o?(c=i.jsx(B,{"data-slot":"checkbox",className:o,...s,children:r}),e[6]=s,e[7]=o,e[8]=c):c=e[8],c}export{se as C};
