import{c as oe,u as ae,j as s,H as ne}from"./app-DggIHyo9.js";import{A as ce}from"./app-layout-19VJyFC6.js";import"./app-wSW00SRY.js";import"./button-DSV5da0i.js";import"./index-B9Z1U0H-.js";import"./index-65G2G430.js";import"./index-AaGKiXUI.js";function he(re){const e=oe.c(95),{auth:Q,user:o,groups:E,userGroups:T}=re;let $;e[0]!==o.email||e[1]!==o.name||e[2]!==o.role||e[3]!==T?($={name:o.name,email:o.email,role:o.role,password:"",password_confirmation:"",groups:T},e[0]=o.email,e[1]=o.name,e[2]=o.role,e[3]=T,e[4]=$):$=e[4];const{data:t,setData:i,put:V,errors:l,processing:A}=ae($);let G;e[5]!==V||e[6]!==o.id?(G=r=>{r.preventDefault(),V(`/users/${o.id}`,{preserveScroll:!0})},e[5]=V,e[6]=o.id,e[7]=G):G=e[7];const W=G;let R;e[8]!==t.groups||e[9]!==i?(R=r=>{i("groups",t.groups.includes(r)?t.groups.filter(ie=>ie!==r):[...t.groups,r])},e[8]=t.groups,e[9]=i,e[10]=R):R=e[10];const X=R,Y=t.role==="User";let L;e[11]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(ne,{title:"Edit User"}),e[11]=L):L=e[11];let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit User"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Update user information and permissions"})]}),e[12]=D):D=e[12];let F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("label",{className:"text-sm font-medium",children:"Name"}),e[13]=F):F=e[13];let a;e[14]!==i?(a=r=>i("name",r.target.value),e[14]=i,e[15]=a):a=e[15];const Z=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.name?"border-destructive":"border-input"}`;let n;e[16]!==t.name||e[17]!==a||e[18]!==Z?(n=s.jsx("input",{type:"text",value:t.name,onChange:a,placeholder:"Enter user name",className:Z}),e[16]=t.name,e[17]=a,e[18]=Z,e[19]=n):n=e[19];let c;e[20]!==l.name?(c=l.name&&s.jsx("p",{className:"text-sm text-destructive",children:l.name}),e[20]=l.name,e[21]=c):c=e[21];let d;e[22]!==c||e[23]!==n?(d=s.jsxs("div",{className:"space-y-2",children:[F,n,c]}),e[22]=c,e[23]=n,e[24]=d):d=e[24];let H;e[25]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("label",{className:"text-sm font-medium",children:"Email"}),e[25]=H):H=e[25];let m;e[26]!==i?(m=r=>i("email",r.target.value),e[26]=i,e[27]=m):m=e[27];const ee=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.email?"border-destructive":"border-input"}`;let u;e[28]!==t.email||e[29]!==m||e[30]!==ee?(u=s.jsx("input",{type:"email",value:t.email,onChange:m,placeholder:"Enter email address",className:ee}),e[28]=t.email,e[29]=m,e[30]=ee,e[31]=u):u=e[31];let f;e[32]!==l.email?(f=l.email&&s.jsx("p",{className:"text-sm text-destructive",children:l.email}),e[32]=l.email,e[33]=f):f=e[33];let p;e[34]!==u||e[35]!==f?(p=s.jsxs("div",{className:"space-y-2",children:[H,u,f]}),e[34]=u,e[35]=f,e[36]=p):p=e[36];let P;e[37]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("label",{className:"text-sm font-medium",children:"Role"}),e[37]=P):P=e[37];let x;e[38]!==i?(x=r=>i("role",r.target.value),e[38]=i,e[39]=x):x=e[39];const se=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.role?"border-destructive":"border-input"}`;let q,z,B;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("option",{value:"",children:"-- Select Role --"}),z=s.jsx("option",{value:"User",children:"User"}),B=s.jsx("option",{value:"Admin",children:"Admin"}),e[40]=q,e[41]=z,e[42]=B):(q=e[40],z=e[41],B=e[42]);let g;e[43]!==t.role||e[44]!==x||e[45]!==se?(g=s.jsxs("select",{value:t.role,onChange:x,className:se,children:[q,z,B]}),e[43]=t.role,e[44]=x,e[45]=se,e[46]=g):g=e[46];let b;e[47]!==l.role?(b=l.role&&s.jsx("p",{className:"text-sm text-destructive",children:l.role}),e[47]=l.role,e[48]=b):b=e[48];let h;e[49]!==g||e[50]!==b?(h=s.jsxs("div",{className:"space-y-2",children:[P,g,b]}),e[49]=g,e[50]=b,e[51]=h):h=e[51];let v;e[52]!==t.groups||e[53]!==l.groups||e[54]!==E||e[55]!==Y||e[56]!==X?(v=Y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Assign Groups"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Select one or more groups this user can access"}),E.length>0?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.map(r=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.groups.includes(r),onChange:()=>X(r),className:"rounded border-gray-300"}),s.jsxs("span",{className:"text-sm",children:["Group ",r]})]},r))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No groups available. Create stores with groups first."}),l.groups&&s.jsx("p",{className:"text-sm text-destructive",children:l.groups})]}),e[52]=t.groups,e[53]=l.groups,e[54]=E,e[55]=Y,e[56]=X,e[57]=v):v=e[57];let I;e[58]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("div",{className:"p-4 bg-muted rounded-md",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave password fields empty to keep the current password"})}),e[58]=I):I=e[58];let J;e[59]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("label",{className:"text-sm font-medium",children:"New Password"}),e[59]=J):J=e[59];let j;e[60]!==i?(j=r=>i("password",r.target.value),e[60]=i,e[61]=j):j=e[61];const te=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.password?"border-destructive":"border-input"}`;let y;e[62]!==t.password||e[63]!==j||e[64]!==te?(y=s.jsx("input",{type:"password",value:t.password,onChange:j,placeholder:"Leave empty to keep current password",className:te}),e[62]=t.password,e[63]=j,e[64]=te,e[65]=y):y=e[65];let N;e[66]!==l.password?(N=l.password&&s.jsx("p",{className:"text-sm text-destructive",children:l.password}),e[66]=l.password,e[67]=N):N=e[67];let w;e[68]!==y||e[69]!==N?(w=s.jsxs("div",{className:"space-y-2",children:[J,y,N]}),e[68]=y,e[69]=N,e[70]=w):w=e[70];let K;e[71]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("label",{className:"text-sm font-medium",children:"Confirm New Password"}),e[71]=K):K=e[71];let _;e[72]!==i?(_=r=>i("password_confirmation",r.target.value),e[72]=i,e[73]=_):_=e[73];let k;e[74]!==t.password_confirmation||e[75]!==_?(k=s.jsxs("div",{className:"space-y-2",children:[K,s.jsx("input",{type:"password",value:t.password_confirmation,onChange:_,placeholder:"Confirm new password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),e[74]=t.password_confirmation,e[75]=_,e[76]=k):k=e[76];const le=A?"Updating...":"Update User";let S;e[77]!==A||e[78]!==le?(S=s.jsx("button",{type:"submit",disabled:A,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90 disabled:opacity-50",children:le}),e[77]=A,e[78]=le,e[79]=S):S=e[79];let M;e[80]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("button",{type:"button",onClick:de,className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),e[80]=M):M=e[80];let C;e[81]!==S?(C=s.jsxs("div",{className:"flex gap-3 pt-4",children:[S,M]}),e[81]=S,e[82]=C):C=e[82];let U;e[83]!==W||e[84]!==d||e[85]!==p||e[86]!==h||e[87]!==v||e[88]!==w||e[89]!==k||e[90]!==C?(U=s.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[D,s.jsx("div",{className:"rounded-lg border bg-card max-w-2xl",children:s.jsxs("form",{onSubmit:W,className:"p-6 space-y-4",children:[d,p,h,v,I,w,k,C]})})]}),e[83]=W,e[84]=d,e[85]=p,e[86]=h,e[87]=v,e[88]=w,e[89]=k,e[90]=C,e[91]=U):U=e[91];let O;return e[92]!==Q.user||e[93]!==U?(O=s.jsxs(ce,{user:Q.user,children:[L,U]}),e[92]=Q.user,e[93]=U,e[94]=O):O=e[94],O}function de(){return window.history.back()}export{he as default};
