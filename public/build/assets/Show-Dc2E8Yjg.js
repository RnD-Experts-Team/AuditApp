import{c as ge,j as t,H as me,a as ue,L as xe}from"./app-0-cEbQZf.js";import{A as fe}from"./app-layout-B-Zvyamh.js";import{c as U}from"./button-ozQ66l2n.js";import{F as he}from"./file-text-BrZkoHh5.js";import{S as je,T as ye}from"./trash-2-C5G1rV5j.js";import{S as Ne}from"./store-DbQMdir0.js";import"./app-oXLXr3Y0.js";import"./index-CNGqGlaO.js";import"./index-C2h5YoHJ.js";import"./index-AaGKiXUI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ve=U("ArrowLeft",be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],we=U("Calendar",_e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ke=U("CircleCheck",Se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Le=U("CircleX",Ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Fe=U("Image",De);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$e=U("User",Ee);function Pe(l){const e=ge.c(97),{auth:r,audit:s}=l;if(!s){let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(me,{title:"View Camera Form"}),e[0]=C):C=e[0];let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:t.jsx("div",{className:"rounded-lg border bg-card p-6",children:t.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}),e[1]=L):L=e[1];let a;return e[2]!==r.user?(a=t.jsxs(fe,{user:r.user,children:[C,L]}),e[2]=r.user,e[3]=a):a=e[3],a}let x,i,f,h,u,c,p,d,n,g,o;if(e[4]!==s.camera_forms||e[5]!==s.date||e[6]!==s.id||e[7]!==s.store?.store||e[8]!==s.user?.name||e[9]!==r.user){i=s.camera_forms?.map(Te).filter(Boolean);const C=i.reduce(Ae,{}),L=ae=>s.camera_forms?.find(le=>le.entity_id===ae);let a;e[21]!==s.id?(a=()=>{confirm("Are you sure you want to delete this camera form?")&&ue.delete(`/camera-forms/${s.id}`,{onSuccess:Ie})},e[21]=s.id,e[22]=a):a=e[22];const Z=a;x=fe,g=r.user,e[23]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(me,{title:"View Camera Form"}),e[23]=o):o=e[23],p="flex flex-1 flex-col gap-6 p-4 pt-0";let B;e[24]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xe,{href:"/camera-forms",className:"text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(ve,{className:"h-4 w-4"})}),t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Camera Form Details"})]}),e[24]=B):B=e[24];let D;e[25]!==s.id?(D=t.jsxs("div",{className:"space-y-1",children:[B,t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Form ID: #",s.id]})]}),e[25]=s.id,e[26]=D):D=e[26];const ee=`/camera-forms/${s.id}/edit`;let V;e[27]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(je,{className:"h-4 w-4"}),e[27]=V):V=e[27];let F;e[28]!==ee?(F=t.jsxs(xe,{href:ee,className:"inline-flex items-center gap-2 justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90 transition-colors",children:[V,"Edit"]}),e[28]=ee,e[29]=F):F=e[29];let X;e[30]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ye,{className:"h-4 w-4"}),e[30]=X):X=e[30];let E;e[31]!==Z?(E=t.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 justify-center rounded-md border border-destructive bg-destructive/10 px-4 py-2 text-sm font-medium text-destructive hover:bg-destructive/20 transition-colors",children:[X,"Delete"]}),e[31]=Z,e[32]=E):E=e[32];let $;e[33]!==F||e[34]!==E?($=t.jsxs("div",{className:"flex gap-2",children:[F,E]}),e[33]=F,e[34]=E,e[35]=$):$=e[35],e[36]!==D||e[37]!==$?(d=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[D,$]}),e[36]=D,e[37]=$,e[38]=d):d=e[38];let O;e[39]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:t.jsx(we,{className:"h-5 w-5 text-primary"})}),e[39]=O):O=e[39];let P;e[40]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Date"}),e[40]=P):P=e[40];let I;e[41]!==s.date?(I=new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),e[41]=s.date,e[42]=I):I=e[42];let A;e[43]!==I?(A=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[O,t.jsxs("div",{className:"space-y-1",children:[P,t.jsx("p",{className:"text-sm font-bold",children:I})]})]})}),e[43]=I,e[44]=A):A=e[44];let W;e[45]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"rounded-full bg-accent/50 p-3",children:t.jsx(Ne,{className:"h-5 w-5 text-accent-foreground"})}),e[45]=W):W=e[45];let G;e[46]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Store"}),e[46]=G):G=e[46];const te=s.store?.store;let T;e[47]!==te?(T=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[W,t.jsxs("div",{className:"space-y-1",children:[G,t.jsx("p",{className:"text-sm font-bold",children:te})]})]})}),e[47]=te,e[48]=T):T=e[48];let J;e[49]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"rounded-full bg-secondary p-3",children:t.jsx($e,{className:"h-5 w-5 text-secondary-foreground"})}),e[49]=J):J=e[49];let K;e[50]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Created By"}),e[50]=K):K=e[50];const se=s.user?.name;let z;e[51]!==se?(z=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[J,t.jsxs("div",{className:"space-y-1",children:[K,t.jsx("p",{className:"text-sm font-bold",children:se})]})]})}),e[51]=se,e[52]=z):z=e[52];let Q;e[53]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("div",{className:"rounded-full bg-muted p-3",children:t.jsx(he,{className:"h-5 w-5 text-muted-foreground"})}),e[53]=Q):Q=e[53];let Y;e[54]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Entities"}),e[54]=Y):Y=e[54];const re=t.jsxs("div",{className:"space-y-1",children:[Y,t.jsx("p",{className:"text-sm font-bold",children:i.length})]});let M;e[55]!==re?(M=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[Q,re]})}),e[55]=re,e[56]=M):M=e[56],e[57]!==A||e[58]!==T||e[59]!==z||e[60]!==M?(n=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A,T,z,M]}),e[57]=A,e[58]=T,e[59]=z,e[60]=M,e[61]=n):n=e[61],u="rounded-lg border bg-card overflow-hidden",e[62]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 px-6 py-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Inspection Results"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All entities grouped by category (with optional images)"})]}),e[62]=c):c=e[62],f="p-6 space-y-8",h=Object.entries(C).map((ae,le)=>{const[de,ie]=ae;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary text-sm font-bold",children:le+1}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-base font-semibold",children:de}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[ie.length," ",ie.length===1?"item":"items"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pl-11",children:ie.map(ce=>{const m=L(ce.id),ne=m?.rating?.label,pe=m?.note&&m.note.trim().length>0,oe=!!m?.image_url;return t.jsxs("div",{className:"group rounded-lg border bg-background hover:bg-accent/5 p-4 transition-all hover:shadow-md",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[t.jsx("h5",{className:"text-sm font-medium leading-tight flex-1",children:ce.entity_label}),ne?t.jsx(ke,{className:"h-4 w-4 text-primary flex-shrink-0"}):t.jsx(Le,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[ne?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:m.rating.label}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:"No rating"}),oe&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:[t.jsx(Fe,{className:"h-3 w-3"}),"Image"]})]}),pe&&t.jsx("div",{className:"mt-3 pt-3 border-t border-dashed",children:t.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:m.note})}),oe&&t.jsx("div",{className:"mt-3 pt-3 border-t border-dashed",children:t.jsx("img",{src:m.image_url,alt:"Entity attachment",className:"max-h-48 rounded-md border"})})]},ce.id)})})]},de)}),e[4]=s.camera_forms,e[5]=s.date,e[6]=s.id,e[7]=s.store?.store,e[8]=s.user?.name,e[9]=r.user,e[10]=x,e[11]=i,e[12]=f,e[13]=h,e[14]=u,e[15]=c,e[16]=p,e[17]=d,e[18]=n,e[19]=g,e[20]=o}else x=e[10],i=e[11],f=e[12],h=e[13],u=e[14],c=e[15],p=e[16],d=e[17],n=e[18],g=e[19],o=e[20];let j;e[63]!==f||e[64]!==h?(j=t.jsx("div",{className:f,children:h}),e[63]=f,e[64]=h,e[65]=j):j=e[65];let y;e[66]!==i.length?(y=i.length===0&&t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(he,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Entities Found"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"This form doesn't have any entity data yet."})]}),e[66]=i.length,e[67]=y):y=e[67];let N;e[68]!==j||e[69]!==y||e[70]!==u||e[71]!==c?(N=t.jsxs("div",{className:u,children:[c,j,y]}),e[68]=j,e[69]=y,e[70]=u,e[71]=c,e[72]=N):N=e[72];let H;e[73]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("span",{className:"font-medium",children:"Created:"}),e[73]=H):H=e[73];let b;e[74]!==s.created_at?(b=new Date(s.created_at).toLocaleString(),e[74]=s.created_at,e[75]=b):b=e[75];let v;e[76]!==b?(v=t.jsxs("div",{className:"flex items-center gap-2",children:[H,t.jsx("span",{children:b})]}),e[76]=b,e[77]=v):v=e[77];let R;e[78]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("span",{className:"font-medium",children:"Last Updated:"}),e[78]=R):R=e[78];let _;e[79]!==s.updated_at?(_=new Date(s.updated_at).toLocaleString(),e[79]=s.updated_at,e[80]=_):_=e[80];let w;e[81]!==_?(w=t.jsxs("div",{className:"flex items-center gap-2",children:[R,t.jsx("span",{children:_})]}),e[81]=_,e[82]=w):w=e[82];let S;e[83]!==v||e[84]!==w?(S=t.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs text-muted-foreground",children:[v,w]})}),e[83]=v,e[84]=w,e[85]=S):S=e[85];let k;e[86]!==N||e[87]!==S||e[88]!==p||e[89]!==d||e[90]!==n?(k=t.jsxs("div",{className:p,children:[d,n,N,S]}),e[86]=N,e[87]=S,e[88]=p,e[89]=d,e[90]=n,e[91]=k):k=e[91];let q;return e[92]!==x||e[93]!==k||e[94]!==g||e[95]!==o?(q=t.jsxs(x,{user:g,children:[o,k]}),e[92]=x,e[93]=k,e[94]=g,e[95]=o,e[96]=q):q=e[96],q}function Ie(){return ue.visit("/camera-forms")}function Ae(l,e){const r=e.category?.label||"Uncategorized";return l[r]||(l[r]=[]),l[r].push(e),l}function Te(l){return l.entity}export{Pe as default};
