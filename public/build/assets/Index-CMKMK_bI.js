import{c as q,j as t,H as z}from"./app-BPiuJiXE.js";import{A as I}from"./app-layout-msTm_QoI.js";import{S as M}from"./store-D6kISWkG.js";import"./app-mtoV7vCQ.js";import"./button-Ro51u8WX.js";import"./index-DYiqaCsJ.js";import"./index-Cv2by6ib.js";function P(s){const e=q.c(43),{auth:r,stores:l,groups:E}=s;let g;e[0]!==l?(g=l.reduce(O,{}),e[0]=l,e[1]=g):g=e[1];const d=g,T=r.user;let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(z,{title:"Stores Management"}),e[2]=j):j=e[2];let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Stores Management"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stores are synchronized automatically. This page is read-only."})]})}),e[3]=N):N=e[3];let b,v;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:t.jsx(M,{className:"h-5 w-5 text-primary"})}),v=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Stores"}),e[4]=b,e[5]=v):(b=e[4],v=e[5]);let n;e[6]!==l.length?(n=t.jsx("div",{className:"rounded-lg border bg-card p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[b,t.jsxs("div",{children:[v,t.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})}),e[6]=l.length,e[7]=n):n=e[7];let y,S;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"rounded-full bg-accent/50 p-3",children:t.jsx(M,{className:"h-5 w-5 text-accent-foreground"})}),S=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Groups"}),e[8]=y,e[9]=S):(y=e[8],S=e[9]);let i;e[10]!==E.length?(i=t.jsx("div",{className:"rounded-lg border bg-card p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[y,t.jsxs("div",{children:[S,t.jsx("p",{className:"text-2xl font-bold",children:E.length})]})]})}),e[10]=E.length,e[11]=i):i=e[11];let _,w;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"rounded-full bg-muted p-3",children:t.jsx(M,{className:"h-5 w-5 text-muted-foreground"})}),w=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Without Group"}),e[12]=_,e[13]=w):(_=e[12],w=e[13]);let o;e[14]!==l?(o=l.filter(L),e[14]=l,e[15]=o):o=e[15];let a;e[16]!==o.length?(a=t.jsx("div",{className:"rounded-lg border bg-card p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[_,t.jsxs("div",{children:[w,t.jsx("p",{className:"text-2xl font-bold",children:o.length})]})]})}),e[16]=o.length,e[17]=a):a=e[17];let c;e[18]!==i||e[19]!==a||e[20]!==n?(c=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n,i,a]}),e[18]=i,e[19]=a,e[20]=n,e[21]=c):c=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("div",{className:"bg-muted/50 px-6 py-4 border-b",children:t.jsx("h3",{className:"text-lg font-semibold",children:"All Stores (Read-only)"})}),e[22]=G):G=e[22];let k;e[23]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("thead",{className:"border-b",children:t.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[t.jsx("th",{className:"h-12 px-6 text-left align-middle font-medium text-muted-foreground",children:"Store Name"}),t.jsx("th",{className:"h-12 px-6 text-left align-middle font-medium text-muted-foreground",children:"Group"})]})}),e[23]=k):k=e[23];let m;e[24]!==l?(m=l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:2,className:"h-24 text-center text-muted-foreground",children:"No stores found."})}):l.map(K),e[24]=l,e[25]=m):m=e[25];let x;e[26]!==m?(x=t.jsx("div",{className:"overflow-auto",children:t.jsxs("table",{className:"w-full caption-bottom text-sm",children:[k,t.jsx("tbody",{children:m})]})}),e[26]=m,e[27]=x):x=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"font-medium mb-2",children:"Grouped count (for quick sanity check)"}),e[28]=A):A=e[28];let u;e[29]!==d?(u=Object.keys(d),e[29]=d,e[30]=u):u=e[30];let f;e[31]!==d||e[32]!==u?(f=t.jsxs("div",{className:"border-t p-4 text-xs text-muted-foreground",children:[A,t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(H=>t.jsxs("span",{className:"inline-flex items-center rounded-md border px-2 py-1",children:[H,": ",d[H].length]},H))})]}),e[31]=d,e[32]=u,e[33]=f):f=e[33];let h;e[34]!==x||e[35]!==f?(h=t.jsxs("div",{className:"rounded-lg border bg-card",children:[G,x,f]}),e[34]=x,e[35]=f,e[36]=h):h=e[36];let p;e[37]!==c||e[38]!==h?(p=t.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-4 pt-0",children:[N,c,h]}),e[37]=c,e[38]=h,e[39]=p):p=e[39];let R;return e[40]!==r.user||e[41]!==p?(R=t.jsxs(I,{user:T,children:[j,p]}),e[40]=r.user,e[41]=p,e[42]=R):R=e[42],R}function K(s){return t.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[t.jsx("td",{className:"p-4 font-medium",children:s.store}),t.jsx("td",{className:"p-4",children:s.group?t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:["Group ",s.group]}):t.jsx("span",{className:"text-muted-foreground text-xs",children:"No group"})})]},s.id)}function L(s){return!s.group}function O(s,e){const r=e.group?.toString()||"No Group";return s[r]||(s[r]=[]),s[r].push(e),s}export{P as default};
