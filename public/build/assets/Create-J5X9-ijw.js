import{c as le,u as re,j as s,H as ie}from"./app-BPiuJiXE.js";import{A as oe}from"./app-layout-msTm_QoI.js";import"./app-mtoV7vCQ.js";import"./button-Ro51u8WX.js";import"./index-DYiqaCsJ.js";import"./index-Cv2by6ib.js";function pe(se){const e=le.c(89),{auth:M,groups:A}=se;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={name:"",email:"",role:"",password:"",password_confirmation:"",groups:[]},e[0]=E):E=e[0];const{data:t,setData:i,post:O,errors:l,processing:U}=re(E);let $;e[1]!==O?($=r=>{r.preventDefault(),O("/users",{preserveScroll:!0})},e[1]=O,e[2]=$):$=e[2];const Q=$;let G;e[3]!==t.groups||e[4]!==i?(G=r=>{i("groups",t.groups.includes(r)?t.groups.filter(te=>te!==r):[...t.groups,r])},e[3]=t.groups,e[4]=i,e[5]=G):G=e[5];const T=G,V=t.role==="User";let R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(ie,{title:"Create User"}),e[6]=R):R=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New User"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a new user to the system"})]}),e[7]=D):D=e[7];let F;e[8]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("label",{className:"text-sm font-medium",children:"Name"}),e[8]=F):F=e[8];let o;e[9]!==i?(o=r=>i("name",r.target.value),e[9]=i,e[10]=o):o=e[10];const W=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.name?"border-destructive":"border-input"}`;let a;e[11]!==t.name||e[12]!==o||e[13]!==W?(a=s.jsx("input",{type:"text",value:t.name,onChange:o,placeholder:"Enter user name",className:W}),e[11]=t.name,e[12]=o,e[13]=W,e[14]=a):a=e[14];let n;e[15]!==l.name?(n=l.name&&s.jsx("p",{className:"text-sm text-destructive",children:l.name}),e[15]=l.name,e[16]=n):n=e[16];let c;e[17]!==n||e[18]!==a?(c=s.jsxs("div",{className:"space-y-2",children:[F,a,n]}),e[17]=n,e[18]=a,e[19]=c):c=e[19];let H;e[20]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("label",{className:"text-sm font-medium",children:"Email"}),e[20]=H):H=e[20];let d;e[21]!==i?(d=r=>i("email",r.target.value),e[21]=i,e[22]=d):d=e[22];const X=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.email?"border-destructive":"border-input"}`;let m;e[23]!==t.email||e[24]!==d||e[25]!==X?(m=s.jsx("input",{type:"email",value:t.email,onChange:d,placeholder:"Enter email address",className:X}),e[23]=t.email,e[24]=d,e[25]=X,e[26]=m):m=e[26];let u;e[27]!==l.email?(u=l.email&&s.jsx("p",{className:"text-sm text-destructive",children:l.email}),e[27]=l.email,e[28]=u):u=e[28];let f;e[29]!==m||e[30]!==u?(f=s.jsxs("div",{className:"space-y-2",children:[H,m,u]}),e[29]=m,e[30]=u,e[31]=f):f=e[31];let P;e[32]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("label",{className:"text-sm font-medium",children:"Role"}),e[32]=P):P=e[32];let p;e[33]!==i?(p=r=>i("role",r.target.value),e[33]=i,e[34]=p):p=e[34];const Y=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.role?"border-destructive":"border-input"}`;let L,q,z;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("option",{value:"",children:"-- Select Role --"}),q=s.jsx("option",{value:"User",children:"User"}),z=s.jsx("option",{value:"Admin",children:"Admin"}),e[35]=L,e[36]=q,e[37]=z):(L=e[35],q=e[36],z=e[37]);let x;e[38]!==t.role||e[39]!==p||e[40]!==Y?(x=s.jsxs("select",{value:t.role,onChange:p,className:Y,children:[L,q,z]}),e[38]=t.role,e[39]=p,e[40]=Y,e[41]=x):x=e[41];let g;e[42]!==l.role?(g=l.role&&s.jsx("p",{className:"text-sm text-destructive",children:l.role}),e[42]=l.role,e[43]=g):g=e[43];let b;e[44]!==x||e[45]!==g?(b=s.jsxs("div",{className:"space-y-2",children:[P,x,g]}),e[44]=x,e[45]=g,e[46]=b):b=e[46];let h;e[47]!==t.groups||e[48]!==l.groups||e[49]!==A||e[50]!==V||e[51]!==T?(h=V&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Assign Groups"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Select one or more groups this user can access"}),A.length>0?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:A.map(r=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.groups.includes(r),onChange:()=>T(r),className:"rounded border-gray-300"}),s.jsxs("span",{className:"text-sm",children:["Group ",r]})]},r))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No groups available. Create stores with groups first."}),l.groups&&s.jsx("p",{className:"text-sm text-destructive",children:l.groups})]}),e[47]=t.groups,e[48]=l.groups,e[49]=A,e[50]=V,e[51]=T,e[52]=h):h=e[52];let B;e[53]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("label",{className:"text-sm font-medium",children:"Password"}),e[53]=B):B=e[53];let v;e[54]!==i?(v=r=>i("password",r.target.value),e[54]=i,e[55]=v):v=e[55];const Z=`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${l.password?"border-destructive":"border-input"}`;let j;e[56]!==t.password||e[57]!==v||e[58]!==Z?(j=s.jsx("input",{type:"password",value:t.password,onChange:v,placeholder:"Enter password (min 8 characters)",className:Z}),e[56]=t.password,e[57]=v,e[58]=Z,e[59]=j):j=e[59];let y;e[60]!==l.password?(y=l.password&&s.jsx("p",{className:"text-sm text-destructive",children:l.password}),e[60]=l.password,e[61]=y):y=e[61];let N;e[62]!==j||e[63]!==y?(N=s.jsxs("div",{className:"space-y-2",children:[B,j,y]}),e[62]=j,e[63]=y,e[64]=N):N=e[64];let I;e[65]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),e[65]=I):I=e[65];let w;e[66]!==i?(w=r=>i("password_confirmation",r.target.value),e[66]=i,e[67]=w):w=e[67];let _;e[68]!==t.password_confirmation||e[69]!==w?(_=s.jsxs("div",{className:"space-y-2",children:[I,s.jsx("input",{type:"password",value:t.password_confirmation,onChange:w,placeholder:"Confirm password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),e[68]=t.password_confirmation,e[69]=w,e[70]=_):_=e[70];const ee=U?"Creating...":"Create User";let k;e[71]!==U||e[72]!==ee?(k=s.jsx("button",{type:"submit",disabled:U,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90 disabled:opacity-50",children:ee}),e[71]=U,e[72]=ee,e[73]=k):k=e[73];let J;e[74]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("button",{type:"button",onClick:ae,className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),e[74]=J):J=e[74];let C;e[75]!==k?(C=s.jsxs("div",{className:"flex gap-3 pt-4",children:[k,J]}),e[75]=k,e[76]=C):C=e[76];let S;e[77]!==Q||e[78]!==c||e[79]!==f||e[80]!==b||e[81]!==h||e[82]!==N||e[83]!==_||e[84]!==C?(S=s.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[D,s.jsx("div",{className:"rounded-lg border bg-card max-w-2xl",children:s.jsxs("form",{onSubmit:Q,className:"p-6 space-y-4",children:[c,f,b,h,N,_,C]})})]}),e[77]=Q,e[78]=c,e[79]=f,e[80]=b,e[81]=h,e[82]=N,e[83]=_,e[84]=C,e[85]=S):S=e[85];let K;return e[86]!==M.user||e[87]!==S?(K=s.jsxs(oe,{user:M.user,children:[R,S]}),e[86]=M.user,e[87]=S,e[88]=K):K=e[88],K}function ae(){return window.history.back()}export{pe as default};
